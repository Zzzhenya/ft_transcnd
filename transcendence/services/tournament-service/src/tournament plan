ğŸ® UI1 â€“ Tournament Size Selection
+---------------------------------------+
|            Tournament Mode            |
+---------------------------------------+
| Select tournament size                |
|                                       |
|  [ 4 Players ]    [ 8 Players ]       |
|                                       |
|                [ Back ]               |
+---------------------------------------+

ğŸ”— UI2 â€“ Tournament Lobby (Create or Join)
+-----------------------------------------------+
|                 Tournament Lobby              |
+-----------------------------------------------+
| Select a tournament to join or create a new   |
| one.                                          |
|                                               |
| Available Tournaments:                        |
|  #1201    Players: 2/4    [ Join ]            |
|  #1202    Players: 3/4    [ Join ]            |
|                                               |
|  (No tournament available?)                   |
|          [ Create Tournament ]                |
|                                               |
|                    [ Back ]                   |
+-----------------------------------------------+

ğŸ UI3 â€“ Tournament Waiting Room (Live Bracket)
+------------------------------------------------------+
|              Tournament #1202 (4 Players)            |
+------------------------------------------------------+
| Players Joined: 3 / 4                                |
|------------------------------------------------------|
| Player List:                                         |
|  âœ… Alice                                             |
|  âœ… Bob                                               |
|  âœ… Charlie                                          |
|  â³ Waiting for player...                             |
|                                                      |
| [ Invite Friend ]                                    |
|------------------------------------------------------|
| Tournament Bracket:                                  |
|  Semi-Finals:                                        |
|   Alice     vs     Bob             (waiting)         |
|   Charlie   vs     TBD             (waiting)         |
|                                                      |
|  Final:                                              |
|   Winner SF1 vs Winner SF2                           |
+------------------------------------------------------+


âœ… This page updates live after every match
âœ… No Ready button here (as you wanted)

ğŸ“ UI4 â€“ Game Page
+------------------------------------------------------+
|                   Match: Alice vs Bob               |
+------------------------------------------------------+

  Alice                                   Bob
+--------+                             +--------+
| READY  |                             | READY  |
+--------+                             +--------+
   âœ… Waiting for both players to be ready

[ Game Canvas Here â€“ Once game starts ]

(Note: Back button disabled during match)


âœ… Match starts only when both press READY
âœ… Smooth UX for online play

âœ… UI5 â€“ Match Result
+--------------------------------------+
|             Match Result             |
+--------------------------------------+
|   Winner: Alice ğŸ†                    |
|                                      |
|   Next match starting soon...        |
|                                      |
|        [ Return to Tournament ]      |
+--------------------------------------+


âœ… Sends the player back to Waiting Room UI3
âœ… Bracket gets updated

ğŸ† UI6 â€“ Tournament Winner Page
+--------------------------------------+
|        ğŸ† Tournament Finished ğŸ†      |
+--------------------------------------+
|       Winner: Alice ğŸ‰               |
|                                      |
| FINAL BRACKET:                       |
|  Alice def. Bob                      |
|  Charlie def. Daniel                 |
|  Alice def. Charlie (Final)          |
|                                      |
| [ Play Again ]   [ Back to Menu ]    |
+--------------------------------------+

âœ… Summary â€“ Final UI List
#	UI Screen Name
1	Tournament Size Selection
2	Tournament Lobby (Create/Join)
3	Tournament Waiting Room (Live Bracket + Invite)
4	Game Page (Both Ready â†’ Match Starts)
5	Match Result
6	Tournament Winner


Home
 â””â”€â”€ Tournament Mode Selection (UI1)
        â”œâ”€â”€ Select "4 players" â†’ goes to Tournament Lobby (UI2)
        â””â”€â”€ Select "8 players" â†’ goes to Tournament Lobby (UI2)

Tournament Lobby (UI2)
        â”œâ”€â”€ Click "Create Tournament" â†’ Waiting Room (UI3)
        â”œâ”€â”€ Click "Join" â†’ Waiting Room (UI3)
        â””â”€â”€ Back â†’ Home

Waiting Room (UI3)
        â”œâ”€â”€ Invite Friend â†’ Send WebSocket invite
        â”œâ”€â”€ Auto-redirect when bracket pair found â†’ Game Page (UI4)
        â””â”€â”€ Leave Tournament â†’ Lobby (UI2)

Game Page (UI4)
        â”œâ”€â”€ Both players press Ready â†’ Game starts
        â”œâ”€â”€ Game ends â†’ Match Result (UI5)
        â””â”€â”€ Disconnect â†’ treated as forfeit

Match Result (UI5)
        â”œâ”€â”€ Click "Return" â†’ Waiting Room (UI3)
        â””â”€â”€ If tournament finished â†’ Winner Page (UI6)

Winner Page (UI6)
        â”œâ”€â”€ Play Again â†’ Tournament Mode (UI1)
        â””â”€â”€ Back to Menu â†’ Home


src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Tournament/
â”‚   â”‚   â”œâ”€â”€ TournamentModeSelect.jsx      // UI1
â”‚   â”‚   â”œâ”€â”€ TournamentLobby.jsx           // UI2
â”‚   â”‚   â”œâ”€â”€ TournamentWaitingRoom.jsx     // UI3
â”‚   â”‚   â”œâ”€â”€ TournamentBracket.jsx         // subcomponent inside WaitingRoom
â”‚   â”‚   â”œâ”€â”€ PlayerList.jsx                // subcomponent for player list
â”‚   â”‚   â”œâ”€â”€ InviteFriendModal.jsx         // popup
â”‚   â”‚   â”œâ”€â”€ GamePage.jsx                  // UI4
â”‚   â”‚   â”œâ”€â”€ MatchResult.jsx               // UI5
â”‚   â”‚   â””â”€â”€ TournamentWinner.jsx          // UI6
â”‚   â”‚
â”‚   â”œâ”€â”€ UI/
â”‚   â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”‚   â”œâ”€â”€ Card.jsx
â”‚   â”‚   â”œâ”€â”€ Loader.jsx
â”‚   â”‚   â”œâ”€â”€ Modal.jsx
â”‚   â”‚   â””â”€â”€ Alert.jsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useTournamentSocket.js            // WebSocket logic
â”‚   â”œâ”€â”€ useGameSocket.js                  // Game WS logic
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api.js                            // REST API calls
â”‚   â”œâ”€â”€ tournamentService.js              // tournament HTTP requests
â”‚   â”œâ”€â”€ websocket.js                      // socket connection manager
â”‚
â”œâ”€â”€ context/
â”‚   â”œâ”€â”€ UserContext.jsx
â”‚   â”œâ”€â”€ TournamentContext.jsx
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ HomePage.jsx
â”‚   â””â”€â”€ TournamentRouter.jsx              // Router for tournament paths
â”‚
â””â”€â”€ App.jsx


<Route path="/tournament" element={<TournamentModeSelect />} />
<Route path="/tournament/lobby" element={<tournamentWaitingRoom />} />
<Route path="/tournament/waiting/:id" element={<TournamentWaitingRoom />} />
<Route path="/tournament/game/:matchId" element={<GamePage />} />
<Route path="/tournament/result" element={<MatchResult />} />
<Route path="/tournament/winner" element={<TournamentWinner />} />



backend tournament server
ğŸ¯ Tournament Features Backend Needs

âœ… Create tournament (4 or 8 players)
âœ… Join tournament
âœ… Invite friends
âœ… WebSocket live updates of bracket
âœ… Match pairing
âœ… Communicate with Game Service
âœ… Detect winner + update tournament
âœ… Restart next rounds automatically
âœ… Final result


/services/tournament-service
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js              // entry
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ tournamentRoutes.js
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ tournamentController.js
â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â””â”€â”€ tournamentSocket.js
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ tournamentModel.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ bracket.js        // bracket pairing logic
â”‚
â””â”€â”€ package.json


createTournament() â†’ status = waiting
players join â†’ keep adding until full
auto-generate bracket â†’ first round match pairs
notify players â†’ send WS "PAIR_READY"
start match via Game Service
game service returns winner â†’ update bracket
if not final â†’ next match
if final â†’ tournament finished
broadcast winner to frontend


| Step     | Description                              |
| -------- | ---------------------------------------- |
| âœ… Step 1 | Create tournament service file structure |
| âœ… Step 2 | Add API routes for create/join/list      |
| âœ… Step 3 | Add WebSocket server for live lobby      |
| âœ… Step 4 | Implement bracket generation             |
| âœ… Step 5 | Connect game start to Game Service       |
| âœ… Step 6 | Handle match result + next round         |
| âœ… Step 7 | Send live bracket updates                |
| âœ… Step 8 | Final winner + leaderboard               |

WebSocket Channels (Rooms)
| Channel                  | Purpose                        |
| ------------------------ | ------------------------------ |
| `lobby`                  | Join available tournaments     |
| `tournament:{id}`        | Waiting room + bracket updates |
| `match:{id}`             | Live match communication       |
| `notifications:{userId}` | Friend invites                 |


ğŸ” WebSocket Events
| Event Name          | Direction        | Description                         |
| ------------------- | ---------------- | ----------------------------------- |
| `tournament.join`   | Client â†’ Server  | Join tournament                     |
| `tournament.update` | Server â†’ Clients | Player joined/left, bracket changes |
| `tournament.start`  | Server â†’ Clients | Tournament begins                   |
| `tournament.invite` | Client â†’ Server  | Invite a friend                     |


Match Events
| Event Name     | Direction        | Description                 |
| -------------- | ---------------- | --------------------------- |
| `match.ready`  | Client â†’ Server  | Player ready to start match |
| `match.state`  | Server â†’ Clients | Game state updates          |
| `match.finish` | Client â†’ Server  | Game finished, sends score  |

test

To test an 8-player tournament, you can simulate multiple users even if you're alone as a developer. Here are 4 practical ways to test it:

âœ… Option 1: Use Multiple Browser Tabs (Easiest)

Open 8 browser tabs on http://localhost:3000/tournament/8

Log in with 8 different test users (e.g. test1â€“test8)

Join the same tournament lobby

Validate:

Players appear in real-time

Bracket generates correctly (quarter-final â†’ semi â†’ final)

Match start logic works

âœ… Fast
âœ… Good for UI + WebSocket testing
âŒ Manual & repetitive

âœ… Option 2: Use a Fake "Bot Join" Button

If you're building it, add a temporary development feature:

// Backend pseudo-code
socket.on("tournament.joinBots", ({ tournamentId, count }) => {
  for (let i = 0; i < count; i++) {
    addFakeUserToTournament(tournamentId);
  }
  io.to(`tournament:${tournamentId}`).emit("tournament.update", getTournamentState(tournamentId));
});


Frontend button:

[Test] Add 7 Fake Players


âœ… Fastest
âœ… Good for logic testing
âš ï¸ Remove before production

âœ… Option 3: Simulate using Scripts (Automated)

ğŸš€ Development Plan (Best Practice)
| Step | Frontend (Tailwind UI)                            | Backend                                           |
| ---- | ------------------------------------------------- | ------------------------------------------------- |
| 1    | Simple Tournament Selection Page (4 or 8 players) | Create Tournament API + Join Tournament           |
| 2    | Tournament Lobby UI with Player List              | Tournament WebSocket room + player list broadcast |
| 3    | Matchmaking Page UI                               | Game pairing logic                                |
| 4    | Game Ready Page UI                                | Match start WebSocket                             |
| 5    | Tournament Bracket UI (Tailwind grid)             | Match progress update                             |
| 6    | Game Screen Integration                           | Real-time gameplay                                |
| 7    | Tournament Final UI                               | Declare winner                                    |
