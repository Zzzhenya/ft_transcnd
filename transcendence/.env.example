# Transcendence Environment Configuration

# ================================
# Network & URLs
# ================================
NODE_ENV=development

# Frontend URLs (accessible from browser)
VITE_API_BASE=http://localhost:3000/user-service
VITE_GATEWAY_BASE=http://localhost:3000
VITE_WS_BASE=ws://localhost:3000
FRONT_END_URL=http://localhost:3004

# Service URLs (internal Docker network)
USER_SERVICE_URL=http://user-service:3001
GAME_SERVICE_URL=http://game-service:3002
LOG_SERVICE_URL=http://log-service:3003
TOURNAMENT_SERVICE_URL=http://tournament-service:3005
TOURNAMENT_SERVICE_INTERNAL_URL=http://tournament-service:3005
TESTDB_URL=http://testdb:3010
GATEWAY_URL=http://gateway:3000

# ================================
# Ports
# ================================
GATEWAY_PORT=3000
USER_SERVICE_PORT=3001
GAME_SERVICE_PORT=3002
LOG_SERVICE_PORT=3003
FRONTEND_PORT=3004
TOURNAMENT_SERVICE_PORT=3005
TESTDB_PORT=3010

# Service Hosts (for external access)
GAME_SERVICE_HOST=localhost
USER_SERVICE_HOST=localhost
LOG_SERVICE_HOST=localhost

# ================================
# Database
# ================================
# Main application database URL (SQLite format: sqlite:/path/to/db)
DATABASE_URL=sqlite:/app/shared/database/transcendence.db

# ================================
# Security
# ================================
JWT_SECRET=your-secret-key-change-in-production

# ================================
# Monitoring & Logging
# ================================
LOGSTASH_URL=http://logstash:5000
ELASTICSEARCH_URL=http://elasticsearch:9200
KIBANA_URL=http://localhost:5601

# ================================
# Development Settings
# ================================
# Set to true for debug logging
DEBUG=false

# Set to true to enable CORS for all origins (dev only)
CORS_ALLOW_ALL=true

# ================================
# Timeouts & Performance
# ================================
# HTTP request timeout for logger services (milliseconds)
LOG_REQUEST_TIMEOUT=1000

# Log service timeout (milliseconds)
LOG_SERVICE_TIMEOUT=2000

# Proxy request timeout (milliseconds)
PROXY_REQUEST_TIMEOUT=5000

# Cookie max age (seconds)
COOKIE_MAX_AGE=3600

# ================================
# Database & Testing  
# ================================
# Test database service HTTP URL
TESTDB_URL=http://testdb:3010

# Test database SQLite file path (used by testdb-service)
TESTDB_DATABASE_PATH=/shared/test-db/pong.sqlite

# Database busy timeout - how long to wait for database locks (milliseconds)
DATABASE_BUSY_TIMEOUT=5000

# ================================
# Environment Variables Migration Status
# ================================
# All hardcoded values have been successfully migrated to environment variables!
# This section documents the migration that was completed:
#
# ✅ Frontend URLs: Replaced localhost:3000 with VITE_GATEWAY_BASE and VITE_WS_BASE
# ✅ Service URLs: All internal service communication uses environment variables
# ✅ Port Configuration: All services use PORT environment variables
# ✅ Timeout Values: LOG_REQUEST_TIMEOUT, PROXY_REQUEST_TIMEOUT, DATABASE_BUSY_TIMEOUT
# ✅ Cookie Settings: COOKIE_MAX_AGE for session management
# ✅ Database Paths: DATABASE_URL and TESTDB_DATABASE_PATH

# ================================
# ELK Stack Settings
# ================================
ES_JAVA_OPTS=-Xms512m -Xmx512m
LS_JAVA_OPTS=-Xms256m -Xmx256m

# ================================
# Environment Configuration Best Practices
# ================================
# 1. Copy this file to .env and customize values for your environment
# 2. Never commit .env files to version control (they're in .gitignore)
# 3. Use different values for development, staging, and production
# 4. Update JWT_SECRET with a secure random string in production
# 5. Set NODE_ENV=production in production environments
# 6. Adjust timeout values based on your infrastructure performance
# 7. Configure proper CORS origins instead of CORS_ALLOW_ALL=true in production
#
# For more information about 12-factor app configuration, see:
# https://12factor.net/config